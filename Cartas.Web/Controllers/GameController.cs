using System;
using System.Collections.Generic;
using System.Linq;
using System.Web.Mvc;
using Cartas.Web.Domain;
using Cartas.Web.Domain.Logic;
using Cartas.Web.Domain.Models;
using Cartas.Web.Models;

namespace Cartas.Web.Controllers
{
    public class GameController : Controller
    {
        public ActionResult Index()
        {
            if (PlayerService.GetPlayer(Request.Cookies) == null)
                return RedirectToAction("Register", "Player");

            var model = new IndexViewModel();
            model.ActiveGames = App.Games.Select(x => new GameItemViewModel
            {
                Id = x.GameId,
                PlayerCount = x.Players.Count,
                Type = x.GameType.ToString(),
                MasterPlayer = x.MasterPlayer.PlayerName
            });
            
            return View(model);
        }

        [HttpPost]
        public ActionResult Create(FormCollection form)
        {
            var masterPlayer = PlayerService.GetPlayer(Request.Cookies);
            var gameType = (GameType) Enum.Parse(typeof(GameType), form["GameType"]);

            var game = App.CreateGame(gameType, masterPlayer);

            return RedirectToAction("Play", new {gameId = game.GameId});
        }

        public ActionResult Play(string gameId)
        {
            return View(new PlayGameViewModel
            {
                Game = new Game("1234", GameType.Romi, new Player())
            });
        }

        public ActionResult Mock(string gameId)
        {
            return View("Play", new PlayGameViewModel
            {
                Game = new Game("1234", GameType.Romi, new Player())
            });
        }

        public ActionResult Snapshot(string gameId)
        {
            //data:image/png;base64,
            var sampleBase64 =
           "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4yhqOOLQfk2XnDUqNXP22k13/2ntq5/ufc4Hd+d1fA8BAgQIECBAgAABAgQIECBAgAABAgQIECBAgMCbC+x1FOp46S8Mn7ukFoXy1dSd97408uq1+T5tuwtfC0N/ys+7qhAXTpt2xOCt5582vM+VP128Zt0rlUfPafrYlbv7Or6PAAECBAgQIECAAAECBAgQIECAAAECBAgQIECga4Fui0JfPGTe4/lq6vc/eua9l74d7Lty9536Srz+e988Z3x1yMBs8qLvL6gOTQ357KmN0+a+ndfzMwQIECBAgAABAgQIECBAgAABAgQIECBAgAABAv8v0G1R6B+HPnnhA+sPum1PnhDqvIif53711X77JU+87qJxh9wya82qWQvX1R3XMPns0XUj11sYAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIDA3gl0WxTau7cRRTO2//wH5URl8kWnH5K47Y/PNubbkvd+vOkjV9QnspW9fW0/T4AAAQIECBAgQIAAAQIECBAgQIAAAQIECBAIXeAdE4WWl1cMmJt/7IpiXDymPpF58Mj6if86qm7Eq6EvyPwECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAge4QeMdEoe4YxmsQIECAAAECBAgQIECAAAECBAgQIECAAAECBAh0LSAKuQwCBAgQIECAAAECBAgQIECAAAECBAgQIECAQAAColAASzYiAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQEAUcgMECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgQAERKEAlmxEAgQIECBAgAABAgQIECBAgAABAgQIECBAgIAo5AYIECBAgAABAgQIECBAgAABAgQIECBAgAABAgEIiEIBLNmIBAgQIECAAAECBAgQIECAAAECBAgQIECAAAFRyA0QIECAAAECBAgQIECAAAECBAgQIECAAAECBAIQEIUCWLIRCRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQKikBsgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECAQgIAoFsGQjEiBAgAABAgQIECBAgAABAgQIECBAgAABAgREITdAgAABAgQIECBAgAABAgQIECBAgAABAgQIEAhAQBQKYMlGJECAAAECBAgQIECAAAECBAgQIECAAAECBAiIQm6AAAECBAgQIECAAAECBAgQIECAAAECBAgQIBCAgCgUwJKNSIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAQhdwAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQCAAAVEogCUbkQABAgQIECBAgAABAgQIECBAgAABAgQIECAgCrkBAgQIECBAgAABAgQIECBAgAABAgQIECBAgEAAAqJQAEs2IgECBAgQIECAAAECBAgQIECAAAECBAgQIEBAFHIDBAgQIECAAAECBAgQIECAAAECBAgQIECAAIEABEShAJZsRAIECBAgQIAAAQIECBAgQIAAAQIECBAgQICAKOQGCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIBCIhCASzZiAQIECBAgAABAgQIECBAgAABAgQIECBAgAABUcgNECBAgAABAgQIECBAgAABAgQIECBAgAABAgQCEBCFAliyEQkQIECAAAECBAgQIECAAAECBAgQIECAAAECopAbIECAAAECBAgQIECAAAECBAgQIECAAAECBAgEICAKBbBkIxIgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIERCE3QIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAIQEAUCmDJRiRAgAABAgQIECBAgAABAgQIECBAgAABAgQIiEJugAABAgQIECBAgAABAgQIECBAgAABAgQIECAQgIAoFMCSjUiAAAECBAgQIECAAAECBAgQIECAAAECBAgQEIXcAAECBAgQIECAAAECBAgQIECAAAECBAgQIEAgAAFRKIAlG5EAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgIAq5AQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIBAAAKiUABLNiIBAgQIECBAgAABAgQIECBAgAABAgQIECBAQBRyAwQIECBAgAABAgQIECBAgAABAgQIECBAgACBAAREoQCWbEQCBAgQIECAAAECBAgQIECAAAECBAgQIECAgCjkBggQIECAAAECBAgQIECAAAECBAgQIECAAAECAQiIQgEs2YgECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAVHIDRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEAhAQhQJYshEJECBAgAABAgQIECBAgAABAgQIECBAgAABAqKQGyBAgAABAgQIECBAgAABAgQIECBAgAABAgQIBCAgCgWwZCMSIECAAAECBAgQIECAAAECBAgQIECAAAECBEQhN0CAAAECBAgQIECAAAECBAgQIECAAAECBAgQCEBAFApgyUYkQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECIhCboAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgEICAKBTAko1IgAABAgQIECBAgAABAgQIECBAgAABAgQIEBCF3AABAgQIECBAgAABAgQIECBAgAABAgQIECBAIAABUSiAJRuRAAECBAgQIECAAAECBAgQIECAAAECBAgQICAKuQECBAgQIECAAAECBAgQIECAAAECBAgQIECAQAAColAASzYiAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQEAUcgMECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgQAERKEAlmxEAgQIECBAgAABAgQIECBAgAABAgQIECBAgIAo5AYIECBAgAABAgQIECBAgAABAgQIECBAgAABAgEIiEIBLNmIBAgQIECAAAECBAgQIECAAAECBAgQIECAAAFRyA0QIECAAAECBAgQIECAAAECBAgQIECAAAECBAIQEIUCWLIRCRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQKikBsgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECAQgIAoFsGQjEiBAgAABAgQIECBAgAABAgQIECBAgAABAgREITdAgAABAgQIECBAgAABAgQIECBAgAABAgQIEAhAQBQKYMlGJECAAAECBAgQIECAAAECBAgQIECAAAECBAiIQm6AAAECBAgQIECAAAECBAgQIECAAAECBAgQIBCAgCgUwJKNSIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAQhdwAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQCAAAVEogCUbkQABAgQIECBAgAABAgQIECBAgAABAgQIECAgCrkBAgQIECBAgAABAgQIECBAgAABAgQIECBAgEAAAqJQAEs2IgECBAgQIECAAAECBAgQIECAAAECBAgQIEBAFHIDBAgQIECAAAECBAgQIECAAAECBAgQIECAAIEABEShAJZsRAIECBAgQIAAAQIECBAgQIAAAQIECBAgQICAKOQGCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIBCIhCASzZiAQIECBAgAABAgQIECBAgAABAgQIECBAgAABUcgNECBAgAABAgQIECBAgAABAgQIECBAgAABAgQCEBCFAliyEQkQIECAAAECBAgQIECAAAECBAgQIECAAAECopAbIECAAAECBAgQIECAAAECBAgQIECAAAECBAgEICAKBbBkIxIgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIERCE3QIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAIQEAUCmDJRiRAgAABAgQIECBAgAABAgQIECBAgAABAgQIiEJugAABAgQIECBAgAABAgQIECBAgAABAgQIECAQgIAoFMCSjUiAAAECBAgQIECAAAECBAgQIECAAAECBAgQEIXcAAECBAgQIECAAAECBAgQIECAAAECBAgQIEAgAAFRKIAlG5EAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgIAq5AQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIBAAAKiUABLNiIBAgQIECBAgAABAgQIECBAgAABAgQIECBAQBRyAwQIECBAgAABAgQIECBAgAABAgQIECBAgACBAAREoQCWbEQCBAgQIECAAAECBAgQIECAAAECBAgQIECAgCjkBggQIECAAAECBAgQIECAAAECBAgQIECAAAECAQiIQgEs2YgECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAVHIDRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEAhAQhQJYshEJECBAgAABAgQIECBAgAABAgQIECBAgAABAqKQGyBAgAABAgQIECBAgAABAgQIECBAgAABAgQIBCAgCgWwZCMSIECAAAECBAgQIECAAAECBAgQIECAAAECBEQhN0CAAAECBAgQIECAAAECBAgQIECAAAECBAgQCEBAFApgyUYkQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECIhCboAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgEICAKBTAko1IgAABAgQIECBAgAABAgQIECBAgAABAgQIEBCF3AABAgQIECBAgAABAgQIECBAgAABAgQIECBAIAABUSiAJRuRAAECBAgQIECAAAECBAgQIECAAAECBAgQICAKuQECBAgQIECAAAECBAgQIECAAAECBAgQIECAQAAColAASzYiAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQEAUcgMECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgQAERKEAlmxEAgQIECBAgAABAgQIECBAgAABAgQIECBAgIAo5AYIECBAgAABAgQIECBAgAABAgQIECBAgAABAgEIiEIBLNmIBAgQIECAAAECBAgQIECAAAECBAgQIECAAAFRyA0QIECAAAECBAgQIECAAAECBAgQIECAAAECBAIQEIUCWLIRCRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQKikBsgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECAQgIAoFsGQjEiBAgAABAgQIECBAgAABAgQIECBAgAABAgREITdAgAABAgQIECBAgAABAgQIECBAgAABAgQIEAhAQBQKYMlGJECAAAECBAgQIECAAAECBAgQIECAAAECBAiIQm6AAAECBAgQIECAAAECBAgQIECAAAECBAgQIBCAgCgUwJKNSIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAQhdwAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQCAAAVEogCUbkQABAgQIECBAgAABAgQIECBAgAABAgQIECAgCrkBAgQIECBAgAABAgQIECBAgAABAgQIECBAgEAAAqJQAEs2IgECBAgQIECAAAECBAgQIECAAAECBAgQIEBAFHIDBAgQIECAAAECBAgQIECAAAECBAgQIECAAIEABEShAJZsRAIECBAgQIAAAQIECBAgQIAAAQIECBAgQICAKOQGCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIBCIhCASzZiAQIECBAgAABAgQIECBAgAABAgQIECBAgAABUcgNECBAgAABAgQIECBAgAABAgQIECBAgAABAgQCEBCFAliyEQkQIECAAAECBAgQIECAAAECBAgQIECAAAECopAbIECAAAECBAgQIECAAAECBAgQIECAAAECBAgEICAKBbBkIxIgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIERCE3QIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAIQEAUCmDJRiRAgAABAgQIECBAgAABAgQIECBAgAABAgQIiEJugAABAgQIECBAgAABAgQIECBAgAABAgQIECAQgIAoFMCSjUiAAAECBAgQIECAAAECBAgQIECAAAECBAgQEIXcAAECBAgQIECAAAECBAgQIECAAAECBAgQIEAgAAFRKIAlG5EAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgIAq5AQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIBAAAKiUABLNiIBAgQIECBAgAABAgQIECBAgAABAgQIECBAQBRyAwQIECBAgAABAgQIECBAgAABAgQIECBAgACBAAREof3m/rgAAAo/SURBVACWbEQCBAgQIECAAAECBAgQIECAAAECBAgQIECAgCjkBggQIECAAAECBAgQIECAAAECBAgQIECAAAECAQiIQgEs2YgECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAVHIDRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEAhAQhQJYshEJECBAgAABAgQIECBAgAABAgQIECBAgAABAqKQGyBAgAABAgQIECBAgAABAgQIECBAgAABAgQIBCAgCgWwZCMSIECAAAECBAgQIECAAAECBAgQIECAAAECBEQhN0CAAAECBAgQIECAAAECBAgQIECAAAECBAgQCEBAFApgyUYkQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECIhCboAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgEICAKBTAko1IgAABAgQIECBAgAABAgQIECBAgAABAgQIEBCF3AABAgQIECBAgAABAgQIECBAgAABAgQIECBAIAABUSiAJRuRAAECBAgQIECAAAECBAgQIECAAAECBAgQICAKuQECBAgQIECAAAECBAgQIECAAAECBAgQIECAQAAColAASzYiAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQEAUcgMECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgQAERKEAlmxEAgQIECBAgAABAgQIECBAgAABAgQIECBAgIAo5AYIECBAgAABAgQIECBAgAABAgQIECBAgAABAgEIiEIBLNmIBAgQIECAAAECBAgQIECAAAECBAgQIECAAAFRyA0QIECAAAECBAgQIECAAAECBAgQIECAAAECBAIQEIUCWLIRCRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQKikBsgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECAQgIAoFsGQjEiBAgAABAgQIECBAgAABAgQIECBAgAABAgREITdAgAABAgQIECBAgAABAgQIECBAgAABAgQIEAhAQBQKYMlGJECAAAECBAgQIECAAAECBAgQIECAAAECBAiIQm6AAAECBAgQIECAAAECBAgQIECAAAECBAgQIBCAgCgUwJKNSIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAQhdwAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQCAAAVEogCUbkQABAgQIECBAgAABAgQIECBAgAABAgQIECAgCrkBAgQIECBAgAABAgQIECBAgAABAgQIECBAgEAAAqJQAEs2IgECBAgQIECAAAECBAgQIECAAAECBAgQIEBAFHIDBAgQIECAAAECBAgQIECAAAECBAgQIECAAIEABEShAJZsRAIECBAgQIAAAQIECBAgQIAAAQIECBAgQICAKOQGCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIBCIhCASzZiAQIECBAgAABAgQIECBAgAABAgQIECBAgAABUcgNECBAgAABAgQIECBAgAABAgQIECBAgAABAgQCEBCFAliyEQkQIECAAAECBAgQIECAAAECBAgQIECAAAECopAbIECAAAECBAgQIECAAAECBAgQIECAAAECBAgEICAKBbBkIxIgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIERCE3QIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAIQEAUCmDJRiRAgAABAgQIECBAgAABAgQIECBAgAABAgQIiEJugAABAgQIECBAgAABAgQIECBAgAABAgQIECAQgIAoFMCSjUiAAAECBAgQIECAAAECBAgQIECAAAECBAgQEIXcAAECBAgQIECAAAECBAgQIECAAAECBAgQIEAgAAFRKIAlG5EAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgIAq5AQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIBAAAKiUABLNiIBAgQIECBAgAABAgQIECBAgAABAgQIECBAQBRyAwQIECBAgAABAgQIECBAgAABAgQIECBAgACBAAREoQCWbEQCBAgQIECAAAECBAgQIECAAAECBAgQIECAgCjkBggQIECAAAECBAgQIECAAAECBAgQIECAAAECAQiIQgEs2YgECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAVHIDRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEAhAQhQJYshEJECBAgAABAgQIECBAgAABAgQIECBAgAABAqKQGyBAgAABAgQIECBAgAABAgQIECBAgAABAgQIBCAgCgWwZCMSIECAAAECBAgQIECAAAECBAgQIECAAAECBEQhN0CAAAECBAgQIECAAAECBAgQIECAAAECBAgQCEBAFApgyUYkQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECIhCboAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgEICAKBTAko1IgAABAgQIECBAgAABAgQIECBAgAABAgQIEBCF3AABAgQIECBAgAABAgQIECBAgAABAgQIECBAIAABUSiAJRuRAAECBAgQIECAAAECBAgQIECAAAECBAgQICAKuQECBAgQIECAAAECBAgQIECAAAECBAgQIECAQAAColAASzYiAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQEAUcgMECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAgQAERKEAlmxEAgQIECBAgAABAgQIECBAgAABAgQIECBAgIAo5AYIECBAgAABAgQIECBAgAABAgQIECBAgAABAgEIvBaFanOe/ZNJce2/jV86bFQAcxuRAAECBAgQIECAAAECBAgQIECAAAECBAgQIBCMQC0I1YYVhYJZuUEJECBAgAABAgQIECBAgAABAgQIECBAgACBEAVEoRC3bmYCBAgQIECAAAECBAgQIECAAAECBAgQIEAgOIEuo1BNwUfIBXcLBiZAgAABAgQIECBAgAABAgQIECBAgAABAgR6qEBHEKqN99rHx9X++btCPXTbxiJAgAABAgQIECBAgAABAgQIECBAgAABAgSCFeiIQreevyDxehQShoK9B4MTIECAAAECBAgQIECAAAECBAgQIECAAAECPVCgcxCqjddlFKp9wcfI9cDtG4kAAQIECBAgQIAAAQIECBAgQIAAAQIECBAIQqDzx8bVnhL6iyhU+x8dHyMnDAVxE4YkQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEephAV0Goyyi0cxgSh3rYJRiHAAECBAgQIECAAAECBAgQIECAAAECBAgQ6JECnWNQbcCOJ4Q6hn3Dx8ftLND5qaGOr/lYuR55J4YiQIAAAQIECBAgQIAAAQIECBAgQIAAAQIE3oUCO4egrmLQbkWh2jd1FYbehSbeMgECBAgQIECAAAECBAgQIECAAAECBAgQIECgxwvs/HRQ54F3+aRQVzIiUY+/FwMSIECAAAECBAgQIECAAAECBAgQIECAAAEC7xKBXUWgnUf4P6RUQcleWASrAAAAAElFTkSuQmCC";

            var contents = Convert.FromBase64String(sampleBase64);

            return File(contents, "image/png");
        }
    }
}